# 인스턴스 멤버와 정적 멤버

인스턴스 멤버는 객체(인스턴스)마다 가지고 있는 멤버를 말하고, 정적 멤버는 클래스에 위치시키고 객체들이 공유하는 멤버를 말한다.

## 인스턴스 멤버와 this

인스턴스 멤버란 객체(인스턴스)를 생성한 후 사용할 수 있는 필드와 메소드를 말한다.

이를 각각 인스턴스 필드, 인스턴스 메소드라고 부른다. 인스턴스 필드와 메소드는 객체에 소속된 멤버이기 때문에 객체 없이는 사용할 수 없다.

### 인스턴스 멤버 선언

인스턴스 필드와 메소드를 선언하는 방법은 지금까지 배운 것과 다르지 않다.

<pre><code>
public class Car
{
  //필드
  int gas;

  // 메소드
  void setSpeed(int speed) {...}
}</code></pre>
위는 Car 클래스에 인스턴스 필드 gas와 인스턴스 메소드 setSpeed()를 선언하였다.

gas 필드와 setSpeed() 메소드는 인스턴스 멤버이기 때문에 외부 클래스에서 사용하기 위해서는 Car 객체(인스턴스)를 생성하고 참조 변수로 접근해야 한다.

<pre><code>
Car myCar = new Car();
myCar.gas = 10;
myCar.setSpeed(60);

Car yourCar = new Car();
yourCar.gas = 20;
yourCar.setSpeed(80);</code></pre>
여기서 참조 변수는 myCar과 yourCar 이다.

### this

객체 외부에서 인스턴스 멤버에 접근하기 위해 참조 변수를 사용하는 것과 마찬가지로 객체 내부에서도 멤버에 접근하기 위해 this를 사용할 수 있다.

객체는 자신을 this라고 한다. 따라서 this.model은 자신이 가지고 있는 model 필드라는 뜻이다. 

this는 주로 생성자와 메소드의 매개 변수의 이름이 필드와 동일한 경우, 인스턴스 멤버인 필드임을 명시하고자 할 때 사용된다.
<pre><code>
Car (String model)
{
  this.model = model;
}

void setModel(String model)
{
  this.model = model;
}</code></pre>
위는 매개 변수 model의 값을 필드 model에 저장한다.

## 정적 멤버와 static

정적(static)은 '고정된'이란 의미이다. 정적 멤버는 클래스에 고정된 멤버로서 객체를 생성하지 않고 사용할 수 있는 필드와 메소드를 말한다. 이들을 각각 정적 필드, 정적 메소드라고 부른다.

### 정적 멤버 선언

정적 필드와 정적 메소드를 선언하려면 필드와 메소드 선언 시 static 키워드를 추가적으로 붙이면 된다.

<pre>정적 필드 선언 방법
<code>
public class 클래스
{
  // 정적 필드
  static 타입 필드 [초기값];

  // 정적 메소드
  static 리턴 타입 메소드(매개변수선언, ...) {...}
}</code></pre>
정적 필드와 정적 메소드는 클래스에 고정된 멤버이므로 클래스 로더가 클래스(바이트 코드)를 로딩해서 메소드 메모리 영역에 적재할 때 클래스 별로 관리된다.

필드를 선언할 때 인스턴스 필드로 선언할지 정적 필드로 선언할지 판단해 주어야 한다. 객체마다 가지고 있어야 할 데이터라면 인스턴스 필드로 선언하고, 객체마다 가지고 있을 필요가 없는 공용 데이터라면 정적 필드로 선언하는 것이 좋다.

메소드 역시 인스턴스 메소드로 선언할지 정적 메소드로 선언할지 판단이 필요하다. 인스턴스 필드를 포함하고 있다면 인스턴스 메소드로 선언하고, 인스턴스 필드를 포함하고 있지 않다면 정적 메소드로 선언한다.

### 정적 멤버 사용

클래스가 메모리로 로딩되면 정적 멤버를 바로 사용할 수 있는데, 클래스 이름과 함께 도트(.) 연산자로 접근한다.

<pre><code>
클래스.필드;
클래스.메소드(매개값, ...);

// 예시
public class Calculator
{
  static double pi = 3.14159;
  static int plus(int x, int y);

  double result1 = 10 * 10 * Calculator.pi;
  int result2 = Calculator.plus(10, 5);
}</code></pre>
예를 들어 Calculator 클래스가 다음과 위와 같이 작성되었다면 정적 필드 pi와 정적 메소드 plus()는 위와 같이 사용할 수 있다.

정적 필드와 정적 메소드는 원칙적으로는 클래스 이름으로 접근해야 하지만 객체 참조 변수로도 접근이 가능하다.

하지만 정적 요소는 클래스 이름으로 접근하는 것이 좋다. 또한 이클립스에서는 정적 멤버를 객체 참조 변수로 접근했을 경우 경고 표시가 나타난다.

### 정적 메소드 선언 시 주의할점

객체가 없어도 실행된다는 특징 때문에 정적 메소드를 선언할 때는 이들 내부에 인스턴스 필드나 인스턴스 메소드를 사용할 수 없다. 

또한 자신의 참조인 this 키워드도 사용이 불가능하다.

<pre><code>컴파일 에러 발생
public class ClassName
{
  //인스턴스 필드와 메소드
  int field1;
  void method1()  {...}

  //정적 필드와 메소드
  static int field2;
  static void method2() {...}

  //정적 메소드
  static void method3()
  {
    this.field1 = 10;   // (X)
    this.method1();     // (X), 컴파일 에러 
    field2 = 10;        // (O)
    method2();          // (O)
  }
}</code></pre>

정적 메소드에서 인스턴스 멤버를 사용하고 싶다면 다음과 같이 객체를 먼저 생성하고 참조 변수로 접근해야 한다.

<pre><code>
static void method3()
{
  ClassName obj = new ClassName();
  obj.field1 = 10;
  obj.method1();
}</code></pre>
main() 메소드도 동일한 규칙이 적용된다. main() 메소드도 정적 메소드이므로 객체 생성 없이